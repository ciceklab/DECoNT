<p align="center">
<a href="https://ciceklab.cs.bilkent.edu.tr/DECoNT/"><img src="./logo.png"  width="200" height="150" class="center"></a><br>


# Polishing Copy Number Variant Calls on Exome Sequencing Data via Deep Learning

> DECoNT is a deep learning based software that corrects CNV predictions on exome sequencing data using read depth sequences.

> <a href="https://en.wikipedia.org/wiki/Deep_learning" target="_blank">**Deep Learning**</a>, <a href="https://en.wikipedia.org/wiki/Copy-number_variation" target="_blank">**Copy Number Variation**</a>, <a href="https://en.wikipedia.org/wiki/Exome_sequencing" target="_blank">**Whole Exome Sequencing**</a>

> Usage of DECoNT is very simple, also it comes with ETA and progress bar features.

<p align="center">
<img src="./decont_example.png"   class="center">

---

## Table of Contents 

> Warning: Please note that DECoNT software is completely free for academic usage. However it is licenced for commercial usage. Please first refer to the [License](#license) section for more info.

- [Installation](#installation)
- [Features](#features)
- [Instructions Manual](#instructions-manual)
- [Usage Examples](#usage-examples)
- [Contributing](#contributing)
- [FAQ](#faq)
- [Support](#support)
- [License](#license)


---

## Installation

- DECoNT does not require installation in conventional manner. DECoNT is a python3 script ready to run with required packages installed. 

### Requirements

- Python 3.7.6
- NumPy 1.16.2
- Pandas 1.0.0
- TensorFlow 1.14.0
- Keras-gpu 2.2.4
- Scikit-Learn 0.22.1
- keras-metrics 1.1.0
- cudnn 7.6.5 (optional, for gpu support only)

For easy requirement handling, you can use DECoNT_env.yml file to initialize appropriate environment with conda using:
```shell
$ conda env create -f DECoNT_env.yml
$ conda activate DECoNT_env
```
---

## Features

- DECoNT provides GPU support optionally. See [GPU Support](#gpu-support) section.
- DECoNT provides ETA for the analysis with progress bar.
- Upcoming version: custom training, custom call polishing.

## Instructions Manual

### Required Arguments

#### -m, --model
- For version 0.1, DECoNT provides pretrained weights for polishing CNV calls from the following WES-based CNV callers: (i) XHMM; (ii) CoNIFER; (iii) CODEX2; (iv) Control-FREEC.
- If you want to use pretrained DECoNT weights for polishing set this argument to <b>pretrained</b>.
- If you want to use custom model weights for DECoNT obtained using DECoNT_train.py script, please provide path to model weights with <b>.h5</b> extension instead. 

#### -cn, --callername
- For version 0.1, DECoNT supports only XHMM, CoNIFER, CODEX2 and Control-FREEC. For future versions, DECoNT will be able to polish any CNV output format with a required CNV output template.
- Set to one of the WES-based CNV caller names above for DECoNT to understand the required weights for the polishing process. 

#### -i, --input
- Relative or direct path to output file of selected WES based CNV caller. 

#### -o, --output
- Relative or direct output directory path to write DECoNT output file.

#### -s, --samples
- Relative or direct directory path to read depth files of samples in the analysis (i.e. samples used in WES CNV calling). Note that, all read depth files must be in the format specified below in the examples section. The provided directory must not include any other files. Read depth files generated by Sambamba tool are directly accepted with no formatting requirements.

###¬†Optional Arguments

#### -g, --gpu
- Set to PCI BUS ID of the gpu in your system.
- You can check, PCI BUS IDs of the gpus in your system with various ways. Here are some examples.
```shell
$ nvidia-smi
```
```shell
$ gpustat
``` 

```python
import os
os.environ
```






###¬†GPU Support

## Usage (Optional)
## Documentation (Optional)
## Tests (Optional)

- Going into more detail on code and technologies used
- I utilized this nifty <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" target="_blank">Markdown Cheatsheet</a> for this sample `README`.

---

## Contributing

> To get started...

### Step 1

- **Option 1**
    - üç¥ Fork this repo!

- **Option 2**
    - üëØ Clone this repo to your local machine using `https://github.com/joanaz/HireDot2.git`

### Step 2

- **HACK AWAY!** üî®üî®üî®

### Step 3

- üîÉ Create a new pull request using <a href="https://github.com/joanaz/HireDot2/compare/" target="_blank">`https://github.com/joanaz/HireDot2/compare/`</a>.

---

## Team

> Or Contributors/People

| <a href="http://fvcproductions.com" target="_blank">**FVCproductions**</a> | <a href="http://fvcproductions.com" target="_blank">**FVCproductions**</a> | <a href="http://fvcproductions.com" target="_blank">**FVCproductions**</a> |
| :---: |:---:| :---:|
| [![FVCproductions](https://avatars1.githubusercontent.com/u/4284691?v=3&s=200)](http://fvcproductions.com)    | [![FVCproductions](https://avatars1.githubusercontent.com/u/4284691?v=3&s=200)](http://fvcproductions.com) | [![FVCproductions](https://avatars1.githubusercontent.com/u/4284691?v=3&s=200)](http://fvcproductions.com)  |
| <a href="http://github.com/fvcproductions" target="_blank">`github.com/fvcproductions`</a> | <a href="http://github.com/fvcproductions" target="_blank">`github.com/fvcproductions`</a> | <a href="http://github.com/fvcproductions" target="_blank">`github.com/fvcproductions`</a> |

- You can just grab their GitHub profile image URL
- You should probably resize their picture using `?s=200` at the end of the image URL.

---

## FAQ

- **How do I do *specifically* so and so?**
    - No problem! Just do this.

---

## Support

Reach out to me at one of the following places!

- Website at <a href="http://fvcproductions.com" target="_blank">`fvcproductions.com`</a>
- Twitter at <a href="http://twitter.com/fvcproductions" target="_blank">`@fvcproductions`</a>
- Insert more social links here.

---

## License

[![License](http://img.shields.io/:license-mit-blue.svg?style=flat-square)](http://badges.mit-license.org)

- **[MIT license](http://opensource.org/licenses/mit-license.php)**
- Copyright 2015 ¬© <a href="http://fvcproductions.com" target="_blank">FVCproductions</a>.
